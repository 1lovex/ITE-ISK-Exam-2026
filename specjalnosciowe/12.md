# Pytanie 12 - Protokoły rozległych sieci komputerowych

## Kuba

Sieć WAN (Wide Area Network) łączy urządzenia na dużych obszarach geograficznych (kraje, kontynenty). Działa głównie w warstwie fizycznej oraz łącza danych modelu OSI, wykorzystując infrastrukturę operatorów telekomunikacyjnych.

### 1. Protokoły warstwy łącza danych (L2)

#### HDLC (High-Level Data Link Control)

Bitowy, synchroniczny protokół używany w transmisjach punkt-punkt oraz punkt-wiele punktów.

**Tryby pracy stacji:**

- **Primary:** Inicjuje i kontroluje transmisję (zarządza sesjami).
- **Secondary:** Wykonuje polecenia stacji nadrzędnej (jedna sesja).
- **Uniwersalna (Combined):** Może inicjować i kontrolować sesję (tryb zrównoważony).

**Struktura ramki:** Flaga (8 bit) | Adres (8) | Kontrolne (8/16) | Informacje (zmienna) | FCS (16) | Flaga (8).

**Zastosowanie:** Podstawa dla wielu innych protokołów (np. LAP-B).

#### LAP-B (Link Access Procedure, Balanced)

Podzbiór HDLC działający w trybie zrównoważonym. Jest to warstwa łącza danych dla protokołu X.25.

Zapewnia bezbłędny przepływ ramek między DTE (urządzenie użytkownika) a DCE (urządzenie operatora).

Obsługuje retransmisję w przypadku błędów i kontrolę przepływu.

#### Frame Relay

Następca X.25, uproszczony pod kątem wydajności. Zakłada, że współczesne łącza są wysokiej jakości.

**Działanie:** Wykorzystuje ramki o zmiennej długości. Rezygnuje z pełnej kontroli błędów wewnątrz sieci (przenosi to na urządzenia końcowe).

**Adresowanie:** Wykorzystuje identyfikatory DLCI (Data Link Connection Identifier).

**Prędkość:** Do 45 Mb/s.

#### ATM (Asynchronous Transfer Mode)

Wykorzystuje komutację komórek o stałym rozmiarze: 53 bajty (5 bajtów nagłówka + 48 danych).

**Identyfikatory:** VPI (Virtual Path Identifier) oraz VCI (Virtual Channel Identifier).

**Zalety:** Stały rozmiar komórki pozwala na bardzo szybkie przełączanie sprzętowe i gwarancję jakości usług (QoS).

**Prędkość:** Do 622 Mb/s i więcej.

### 2. Protokoły warstwy sieciowej i szkieletowej (L3 / L2.5)

#### TCP/IP (Internet Protocol)

Podstawa współczesnych sieci WAN (Internetu). Odpowiada za adresowanie bezpołączeniowe i routing.

- **IPv4:** Stała długość adresu 32 bity (format x.x.x.x/24).
- **IPv6:** Stała długość adresu 128 bitów (prefiks np. 2001:0db8::/32).

**Routing:** Decyzje o trasie podejmowane są na podstawie tabeli routingu w routerach.

#### MPLS (Multi-Protocol Label Switching)

Technologia "warstwy 2.5", która łączy zalety routingu L3 i przełączania L2.

**Działanie:** Pakiety są znakowane etykietami (labels). Routery (LSR) podejmują decyzje na podstawie etykiet, a nie pełnych adresów IP, co drastycznie przyspiesza przesył.

**Zastosowanie:** Budowanie szybkich szkieletów sieci operatorskich i usług VPN dla firm.

#### X.25 (Standard niezawodny)

Starszy protokół połączeniowy z bardzo silną kontrolą błędów (potwierdzanie każdej ramki).

**Adresowanie:** Wykorzystuje standard X.121.

**Zastosowanie:** Systemy o krytycznym znaczeniu dla poprawności danych (bankomaty, medycyna).

### 3. Porównanie adresowania: X.121 vs IP

| Cecha         | X.121 (Stosowany w X.25)                | IP (Stosowany w TCP/IP)                              |
| ------------- | --------------------------------------- | ---------------------------------------------------- |
| Identyfikacja | Adresuje użytkownika końcowego.         | Adresuje połączenie sieciowe.                        |
| Długość       | Zmienna długość (do 15 cyfr).           | Stała (32 bity dla IPv4, 128 dla IPv6).              |
| Charakter     | Adres terytorialny (hierarchiczny).     | Adresacja logiczna / bezpołączeniowa.                |
| Format        | Liczby dziesiętne (np. 523 dla Polski). | Binarny / Dziesiętny (IPv4) / Heksadecymalny (IPv6). |

**Struktura adresu X.121:**

- P (1) – wskaźnik międzynarodowy.
- DNIC (4) – identyfikator sieci (np. 2601: 260-Polska, 1-nr sieci).
- NTN – numer użytkownika lub DCC (numer kraju) i NN (numer krajowy).

### 4. Dodatek: Zasady Komutacji w telekomunikacji

Komutacja to kluczowy proces dynamicznego przekierowywania sygnałów i danych przez sieci. Polega na zestawianiu tymczasowych lub logicznych ścieżek między urządzeniami.

**Rodzaje komutacji:**

- **Komutacja Kanałów (Łączy/Obwodów):** Zestawia dedykowaną, fizyczną ścieżkę od nadawcy do odbiorcy na czas trwania połączenia. Gwarantuje stałą przepustowość (np. tradycyjna telefonia, ISDN).
- **Komutacja Pakietów:** Dane dzielone są na małe pakiety, które mogą podróżować różnymi trasami i są składane u odbiorcy (podstawa Internetu, IP).
- **Komutacja Komórek:** Odmiana komutacji pakietów, gdzie pakiety mają stały rozmiar (komórki). Zapewnia to efektywność i przewidywalność (np. ATM).
- **Komutacja Ramek:** Wykorzystuje ramki danych o zmiennej długości, charakterystyczna dla sieci takich jak Frame Relay.

### Podsumowanie na obronę

Protokoły WAN ewoluowały od rozwiązań stawiających na niezawodność kosztem prędkości (X.25, HDLC/LAP-B) do technologii stawiających na wydajność i szybkość (Frame Relay, ATM, MPLS). Kluczową różnicą jest to, gdzie odbywa się kontrola błędów – w starszych protokołach robiła to sieć, w nowszych odpowiedzialność przeniesiono na urządzenia końcowe (np. w modelu TCP/IP). Obecnie standardem rynkowym w szkieletach sieci jest MPLS operujący na etykietach oraz uniwersalny protokół IP.

## Stachu

### X.121

- **Adres:** Użytkownik końcowy (np.: 523).
- **Długość:** Zmienna.
- **Charakter:** Adres terytorialny.
- **Format:** Liczby dziesiętne.
- **Dwie formy:**
  - P (1) + DNIC (4) + NTN (max 10).
  - P (1) + DCC (3) + NN (max 11).
- **P:** Wskaźnik międzynarodowy.
- **DNIC:** Identyfikator sieci publicznej (np.: 2601, 260 – Polska, 1 – nr sieci).
- **NTN:** Numer użytkownika.
- **DCC:** Numer kraju.
- **NN:** Numer krajowy.
- **Zastosowanie w adresacji:** Frame Relay (FR). W tej technice informacja jest dzielona na ramki o zmiennej długości, które przenoszą dane między sieciami LAN, co pozwala na przekazywanie informacji między urządzeniami końcowymi sieci rozległych (WAN).

### IP

- **Adres:** Połączenie.
- **Długość:** Stała (32 albo 128 bitów).
- **Charakter:** Adresacja bezpołączeniowa.
- **Wersje:**
  - **IPv4:** Maska x.x.x.x/24.
  - **IPv6:** Prefiks 2001:0db8::/32.
- **Zastosowanie w adresacji:** Tabela routingu.
